(function (e) { function n (n) { for (var r, o, c = n[0], s = n[1], u = n[2], l = 0, f = []; l < c.length; l++)o = c[l], Object.prototype.hasOwnProperty.call(a, o) && a[o] && f.push(a[o][0]), a[o] = 0; for (r in s)Object.prototype.hasOwnProperty.call(s, r) && (e[r] = s[r]); d && d(n); while (f.length)f.shift()(); return i.push.apply(i, u || []), t() } function t () { for (var e, n = 0; n < i.length; n++) { for (var t = i[n], r = !0, o = 1; o < t.length; o++) { const c = t[o]; a[c] !== 0 && (r = !1) }r && (i.splice(n--, 1), e = s(s.s = t[0])) } return e } const r = {}; const o = { app: 0 }; var a = { app: 0 }; var i = []; function c (e) { return s.p + 'js/' + ({}[e] || e) + '.' + { 'chunk-2d0f1544': 'd0913a4a', 'chunk-628f9bec': '7695a0e6', 'chunk-c2658924': '407d6851', 'chunk-7462cd63': '14209df8', 'chunk-d724f656': 'b31f596e', 'chunk-3e2512fc': 'd09c65b3', 'chunk-785cb430': '395b5e33', 'chunk-7fb82abf': 'aa7ce337', 'chunk-a133eb96': '9fedd722' }[e] + '.js' } function s (n) { if (r[n]) return r[n].exports; const t = r[n] = { i: n, l: !1, exports: {} }; return e[n].call(t.exports, t, t.exports, s), t.l = !0, t.exports }s.e = function (e) { const n = []; const t = { 'chunk-628f9bec': 1, 'chunk-c2658924': 1, 'chunk-7462cd63': 1, 'chunk-d724f656': 1, 'chunk-3e2512fc': 1, 'chunk-785cb430': 1, 'chunk-7fb82abf': 1, 'chunk-a133eb96': 1 }; o[e] ? n.push(o[e]) : o[e] !== 0 && t[e] && n.push(o[e] = new Promise(function (n, t) { for (var r = 'css/' + ({}[e] || e) + '.' + { 'chunk-2d0f1544': '31d6cfe0', 'chunk-628f9bec': 'db788e5a', 'chunk-c2658924': '5ec093ed', 'chunk-7462cd63': 'cab59e1c', 'chunk-d724f656': 'be99bd51', 'chunk-3e2512fc': '4e117f4e', 'chunk-785cb430': '0e5fe365', 'chunk-7fb82abf': '0e433876', 'chunk-a133eb96': '11c4788a' }[e] + '.css', a = s.p + r, i = document.getElementsByTagName('link'), c = 0; c < i.length; c++) { var u = i[c]; var l = u.getAttribute('data-href') || u.getAttribute('href'); if (u.rel === 'stylesheet' && (l === r || l === a)) return n() } const f = document.getElementsByTagName('style'); for (c = 0; c < f.length; c++) { u = f[c], l = u.getAttribute('data-href'); if (l === r || l === a) return n() } const d = document.createElement('link'); d.rel = 'stylesheet', d.type = 'text/css', d.onload = n, d.onerror = function (n) { const r = n && n.target && n.target.src || a; const i = new Error('Loading CSS chunk ' + e + ' failed.\n(' + r + ')'); i.code = 'CSS_CHUNK_LOAD_FAILED', i.request = r, delete o[e], d.parentNode.removeChild(d), t(i) }, d.href = a; const m = document.getElementsByTagName('head')[0]; m.appendChild(d) }).then(function () { o[e] = 0 })); let r = a[e]; if (r !== 0) if (r)n.push(r[2]); else { const i = new Promise(function (n, t) { r = a[e] = [n, t] }); n.push(r[2] = i); let u; const l = document.createElement('script'); l.charset = 'utf-8', l.timeout = 120, s.nc && l.setAttribute('nonce', s.nc), l.src = c(e); const f = new Error(); u = function (n) { l.onerror = l.onload = null, clearTimeout(d); const t = a[e]; if (t !== 0) { if (t) { const r = n && (n.type === 'load' ? 'missing' : n.type); const o = n && n.target && n.target.src; f.message = 'Loading chunk ' + e + ' failed.\n(' + r + ': ' + o + ')', f.name = 'ChunkLoadError', f.type = r, f.request = o, t[1](f) }a[e] = void 0 } }; var d = setTimeout(function () { u({ type: 'timeout', target: l }) }, 12e4); l.onerror = l.onload = u, document.head.appendChild(l) } return Promise.all(n) }, s.m = e, s.c = r, s.d = function (e, n, t) { s.o(e, n) || Object.defineProperty(e, n, { enumerable: !0, get: t }) }, s.r = function (e) { typeof Symbol !== 'undefined' && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: 'Module' }), Object.defineProperty(e, '__esModule', { value: !0 }) }, s.t = function (e, n) { if (1 & n && (e = s(e)), 8 & n) return e; if (4 & n && typeof e === 'object' && e && e.__esModule) return e; const t = Object.create(null); if (s.r(t), Object.defineProperty(t, 'default', { enumerable: !0, value: e }), 2 & n && typeof e !== 'string') for (const r in e)s.d(t, r, function (n) { return e[n] }.bind(null, r)); return t }, s.n = function (e) { const n = e && e.__esModule ? function () { return e.default } : function () { return e }; return s.d(n, 'a', n), n }, s.o = function (e, n) { return Object.prototype.hasOwnProperty.call(e, n) }, s.p = '/', s.oe = function (e) { throw console.error(e), e }; let u = window.webpackJsonp = window.webpackJsonp || []; const l = u.push.bind(u); u.push = n, u = u.slice(); for (let f = 0; f < u.length; f++)n(u[f]); var d = l; i.push([0, 'chunk-vendors']), t() })({ 0: function (e, n, t) { e.exports = t('cd49') }, 1: function (e, n) {}, 10: function (e, n) {}, 11: function (e, n) {}, 12: function (e, n) {}, 13: function (e, n) {}, 14: function (e, n) {}, 2: function (e, n) {}, 2886: function (e, n, t) {}, 3: function (e, n) {}, '32a8': function (e, n, t) { 'use strict'; t('2886') }, 4: function (e, n) {}, 5: function (e, n) {}, 6: function (e, n) {}, 7: function (e, n) {}, 8: function (e, n) {}, 9: function (e, n) {}, cd49: function (e, n, t) { 'use strict'; t.r(n); t('e260'), t('e6cf'), t('cca6'), t('a79d'); const r = t('2b0e'); const o = function () { const e = this; const n = e.$createElement; const t = e._self._c || n; return t('v-app', [t('router-view')], 1) }; const a = []; const i = r.a.extend({ name: 'App', data: function () { return {} }, computed: {}, methods: {} }); const c = i; const s = (t('32a8'), t('2877')); const u = t('6544'); const l = t.n(u); const f = t('7496'); const d = Object(s.a)(c, o, a, !1, null, null, null); const m = d.exports; l()(d, { VApp: f.a }); const p = t('9483'); Object(p.a)(''.concat('/', 'service-worker.js'), { ready: function () { console.log('App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB') }, registered: function () { console.log('Service worker has been registered.') }, cached: function () { console.log('Content has been cached for offline use.') }, updatefound: function () { console.log('New content is downloading.') }, updated: function () { console.log('New content is available; please refresh.') }, offline: function () { console.log('No internet connection found. App is running in offline mode.') }, error: function (e) { console.error('Error during service worker registration:', e) } }); const h = t('a925'); const g = (t('2ca0'), t('2ef0')); function v () { let e = 'en'; return Object(g.isUndefined)(window) || Object(g.isUndefined)(window.navigator) || (e = window.navigator.language || window.browserLanguage || window.userLanguage, e = b(e)), e } function b (e) { let n = 'en'; return e.startsWith('es') && (n = 'es'), e.startsWith('pt') && (n = 'pt'), console.log('parseLocale', { locale: e, pl: n }), n } const w = v(); r.a.use(h.a); const k = { en: { welcomeMsg: 'Hello', menu: { item1: 'Dashboard', item2: 'Advertiser', item3: 'Campaigns', item4: 'Line Item', item5: 'Creative', item6: 'Reporting', item7: 'Tools' }, Unauthorized: 'Please enter a valid credential', login: 'Login', email: 'Email', password: 'Password', forgotPassword: 'Forgot Password', resetPassword: 'Reset Password', rememberMe: 'Keep me Logged in', enterEmail: 'Enter email', enterPassword: 'Enter password', loading: 'Loading...', fieldRequired: 'This field is required', minLength: 'Password must be at least {min} characters', invalidEmail: 'E-mail must be valid', backLogin: 'Back to login', Search: 'Search' }, es: { welcomeMsg: 'Hola', menu: { item1: 'Tablero', item2: 'Anunciante', item3: 'Campañas', item4: 'Elemento en linea', item5: 'Creativo', item6: 'Reportes', item7: 'Herramientas' }, Unauthorized: 'Ingrese una credencial válida', login: 'Iniciar sesión', email: 'Correo electrónico', password: 'Contraseña', forgotPassword: '¿Olvidaste tu contraseña?', resetPassword: 'Restablecer la contraseña', rememberMe: 'Recordarme', enterEmail: 'Ingrese su correo electrónico', enterPassword: 'Ingrese su contraseña', loading: 'Cargando...', fieldRequired: 'Este campo es obligatorio', minLength: 'La contraseña debe tener al menos {min} caracteres', invalidEmail: 'El correo electrónico debe ser válido', backLogin: 'Atrás para iniciar sesión', Search: 'Buscar' }, pt: { welcomeMsg: 'Olá', menu: { item1: 'Painel', item2: 'Anunciante', item3: 'Campanhas', item4: 'Item da linha', item5: 'Criativo', item6: 'Relatórios', item7: 'Ferramentas' }, Unauthorized: 'Por favor, insira uma credencial válida', login: 'Iniciar sessão', email: 'Correio eletrônico', password: 'Senha', forgotPassword: 'Esqueceu sua senha?', resetPassword: 'Redefina sua senha', rememberMe: 'Mantenha-me conectado', enterEmail: 'Digite o e-mail', enterPassword: 'Digite a senha', loading: 'Carregando...', fieldRequired: 'Este campo é obrigatório', minLength: 'A senha deve ter pelo menos {min} caracteres', invalidEmail: 'E-mail deve ser válido', backLogin: 'Volte ao login', Search: 'Procurar' } }; const E = new h.a({ locale: w, fallbackLocale: 'en', messages: k }); const P = E; const O = (t('d3b7'), t('8c4f')); const S = (t('25f0'), t('53ca')); const y = (t('96cf'), t('1da1')); const A = t('2f62'); const j = t('d4ec'); const x = t('bee2'); const I = t('bc3a'); const R = t.n(I); const T = (t('ac1f'), t('5319'), t('14b7')); function _ (e) { return Object(T.decode)(L(e)) } function L (e) { return e.replace('Bearer ', '') } function N (e) { return C(e) ? (localStorage.clear(), window.location.href = '/auth/login', '') : e } var C = function (e) { try { const n = _(e); if (console.log('JwtService:IsTokenExpired', { decoded: n }), !n) return !0; const t = n.exp; if (!t) return !0; const r = 1e3 * t; return console.log('JwtService:IsTokenExpired', { isExpired: Date.now() >= r }), Date.now() >= r } catch (o) { return console.error('JwtService:IsTokenExpired', { error: o }), !0 } }; R.a.defaults.baseURL = 'https://dsp-api-testing.adsmovil.com', R.a.defaults.headers.common['Access-Control-Allow-Origin'] = '*', R.a.defaults.headers.common.Accept = 'application/json'; const M = localStorage.getItem('token') || ''; function B (e, n) { return R.a.post(e, n) } function q (e) { return R.a.get(e) } function F (e) { return e.data.response }M && M.startsWith('Bearer ') && (R.a.defaults.headers.common.Authorization = N(M)), R.a.interceptors.request.use(function (e) { return e }, function (e) { return console.error('AxiosService.interceptors', { request: e }), Promise.reject(e) }), R.a.interceptors.response.use(function (e) { if (z(e)) { const n = J(e); if (console.log('interceptor:response', { provider: n }), n && n.startsWith('Bearer')) { const t = N(n); String(t).length > 0 && (R.a.defaults.headers.common.Authorization = t, localStorage.setItem('token', t)) } } return e }, function (e) { return console.error('AxiosService.interceptors', { error: e }), Promise.reject(e) }); const D = '/api/auth/login'; const U = '/api/auth/logout'; const K = (function () { function e () { Object(j.a)(this, e) } return Object(x.a)(e, [{ key: 'login', value: (function () { const e = Object(y.a)(regeneratorRuntime.mark(function e (n) { return regeneratorRuntime.wrap(function (e) { while (1) switch (e.prev = e.next) { case 0:return e.prev = 0, e.abrupt('return', B(D, n)); case 4:e.prev = 4, e.t0 = e.catch(0), console.error('AuthService:login', { error: e.t0 }); case 7:case 'end':return e.stop() } }, e, null, [[0, 4]]) })); function n (n) { return e.apply(this, arguments) } return n }()) }, { key: 'logout', value: (function () { const e = Object(y.a)(regeneratorRuntime.mark(function e () { return regeneratorRuntime.wrap(function (e) { while (1) switch (e.prev = e.next) { case 0:return e.prev = 0, e.abrupt('return', B(U, null)); case 4:e.prev = 4, e.t0 = e.catch(0), console.error('AuthService:logout', { error: e.t0 }); case 7:case 'end':return e.stop() } }, e, null, [[0, 4]]) })); function n () { return e.apply(this, arguments) } return n }()) }]), e }()); function z (e) { return !!e.data.success && Boolean(String(e.data.response.access_token).length > 0) } function J (e) { return e.data.success ? e.data.response.access_token : '' } const H = new K(); const W = (t('b0c0'), '/api/auth/me'); const V = (function () { function e () { Object(j.a)(this, e) } return Object(x.a)(e, [{ key: 'profile', value: (function () { const e = Object(y.a)(regeneratorRuntime.mark(function e () { return regeneratorRuntime.wrap(function (e) { while (1) switch (e.prev = e.next) { case 0:return e.abrupt('return', B(W, null)); case 1:case 'end':return e.stop() } }, e) })); function n () { return e.apply(this, arguments) } return n }()) }]), e }()); function $ (e) { const n = F(e); const t = {}; return Object(g.isEmpty)(n) || Object(g.isUndefined)(n) || (t.id = n.id || 'N/A', t.account_id = n.account_id || 'N/A', t.first_name = n.name || 'N/A', t.last_name = n.last_name || 'N/A', t.email = n.email || 'N/A', t.avatar = n.avatar || 'https://avatars0.githubusercontent.com/u/9064066?v=4&s=460'), t } const G = new V(); const Q = '/api/auth/permissions'; const X = (function () { function e () { Object(j.a)(this, e) } return Object(x.a)(e, [{ key: 'permissions', value: (function () { const e = Object(y.a)(regeneratorRuntime.mark(function e () { return regeneratorRuntime.wrap(function (e) { while (1) switch (e.prev = e.next) { case 0:return e.abrupt('return', q(Q)); case 1:case 'end':return e.stop() } }, e) })); function n () { return e.apply(this, arguments) } return n }()) }]), e }()); function Y (e) { return F(e) } const Z = new X(); const ee = localStorage.getItem('token') || ''; r.a.use(A.a); const ne = new A.a.Store({ state: function () { return {} }, mutations: {}, actions: {}, modules: { auth: { namespaced: !0, state: function () { return { loggedIn: Boolean(ee), token: ee } }, mutations: { SET_TOKEN: function (e) { const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ''; e.token = n, e.loggedIn = Boolean(n) } }, getters: { token: function (e) { return e.token } }, actions: { logIn: function (e, n) { return Object(y.a)(regeneratorRuntime.mark(function t () { let r, o, a; return regeneratorRuntime.wrap(function (t) { while (1) switch (t.prev = t.next) { case 0:return r = e.commit, t.prev = 1, t.next = 4, H.login(n); case 4:return o = t.sent, console.log('@Action:logIn', { response: o }), r('SET_TOKEN', J(o)), t.next = 9, Promise.resolve(o); case 9:return t.abrupt('return', t.sent); case 12:return t.prev = 12, t.t0 = t.catch(1), console.error('@Action:logIn.catch', { error: t.t0 }), r('SET_TOKEN'), a = Object(S.a)(t.t0.response.data.message) !== 'undefined' ? t.t0.response.data.message : t.t0.toString(), console.error('@Action:logIn.catch', { message: a }), t.next = 20, Promise.reject(a); case 20:return t.abrupt('return', t.sent); case 21:case 'end':return t.stop() } }, t, null, [[1, 12]]) }))() }, signOff: function (e) { return Object(y.a)(regeneratorRuntime.mark(function n () { let t, r, o; return regeneratorRuntime.wrap(function (n) { while (1) switch (n.prev = n.next) { case 0:return t = e.commit, n.prev = 1, n.next = 4, H.logout(); case 4:return r = n.sent, console.log('@Action:signOff', { response: r }), t('SET_TOKEN'), localStorage.clear(), window.location.href = '/', n.next = 11, Promise.resolve(r); case 11:return n.abrupt('return', n.sent); case 14:return n.prev = 14, n.t0 = n.catch(1), console.error('@Action:signOff.catch', { error: n.t0 }), t('SET_TOKEN'), o = Object(S.a)(n.t0.response.data.message) !== 'undefined' ? n.t0.response.data.message : n.t0.toString(), console.error('@Action:signOff.catch', { message: o }), n.next = 22, Promise.reject(o); case 22:return n.abrupt('return', n.sent); case 23:case 'end':return n.stop() } }, n, null, [[1, 14]]) }))() } } }, profile: { namespaced: !0, state: function () { return { profile: null } }, mutations: { SET_PROFILE: function (e) { const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null; e.profile = n } }, getters: { profile: function (e) { return e.profile } }, actions: { fetchProfile: function (e) { return Object(y.a)(regeneratorRuntime.mark(function n () { let t, r, o; return regeneratorRuntime.wrap(function (n) { while (1) switch (n.prev = n.next) { case 0:return t = e.commit, n.prev = 1, n.next = 4, G.profile(); case 4:return r = n.sent, console.log('@Action:fetchProfile', { response: r }), t('SET_PROFILE', $(r)), n.next = 9, Promise.resolve(r); case 9:return n.abrupt('return', n.sent); case 12:return n.prev = 12, n.t0 = n.catch(1), console.error('@Action:fetchProfile.catch', { error: n.t0 }), t('SET_PROFILE'), o = Object(S.a)(n.t0.response.data.message) !== 'undefined' ? n.t0.response.data.message : n.t0.toString(), console.error('@Action:fetchProfile.catch', { message: o }), n.next = 20, Promise.reject(o); case 20:return n.abrupt('return', n.sent); case 21:case 'end':return n.stop() } }, n, null, [[1, 12]]) }))() } } }, permissions: { namespaced: !0, state: function () { return { permissions: [] } }, mutations: { SET_PERMISSIONS: function (e) { const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []; e.permissions = n } }, getters: { permissions: function (e) { return e.permissions } }, actions: { fetchPermissions: function (e) { return Object(y.a)(regeneratorRuntime.mark(function n () { let t, r, o; return regeneratorRuntime.wrap(function (n) { while (1) switch (n.prev = n.next) { case 0:return t = e.commit, n.prev = 1, n.next = 4, Z.permissions(); case 4:return r = n.sent, console.log('@Action:fetchPermissions', { response: r }), t('SET_PERMISSIONS', Y(r)), n.next = 9, Promise.resolve(r); case 9:return n.abrupt('return', n.sent); case 12:return n.prev = 12, n.t0 = n.catch(1), console.error('@Action:fetchPermissions.catch', { error: n.t0 }), t('SET_PERMISSIONS'), o = Object(S.a)(n.t0.response.data.message) !== 'undefined' ? n.t0.response.data.message : n.t0.toString(), console.error('@Action:fetchPermissions.catch', { message: o }), n.next = 20, Promise.reject(o); case 20:return n.abrupt('return', n.sent); case 21:case 'end':return n.stop() } }, n, null, [[1, 12]]) }))() } } } } }); r.a.use(O.a); const te = [{ path: '/', name: 'Root', beforeEnter: function (e, n, t) { console.log('root:beforeEnter', { to: e, from: n, state: ne.state, logguedin: ne.state.auth.loggedIn }), ne.state.auth.loggedIn ? t('/admin/dashboard') : t('/auth/login') } }, { path: '/auth', name: 'Auth', component: function () { return t.e('chunk-2d0f1544').then(t.bind(null, '9fbc')) }, beforeEnter: function (e, n, t) { console.log('auth:beforeEnter', { to: e, from: n, state: ne.state, logguedin: ne.state.auth.loggedIn }), ne.state.auth.loggedIn ? t('/admin/dashboard') : t() }, children: [{ path: 'login', name: 'Login', component: function () { return Promise.all([t.e('chunk-628f9bec'), t.e('chunk-d724f656'), t.e('chunk-3e2512fc'), t.e('chunk-785cb430')]).then(t.bind(null, '7101')) } }, { path: 'forgot-password', name: 'ForgotPassword', component: function () { return Promise.all([t.e('chunk-628f9bec'), t.e('chunk-d724f656'), t.e('chunk-3e2512fc'), t.e('chunk-7fb82abf')]).then(t.bind(null, 'dae9')) } }] }, { path: '/admin', name: 'Admin', component: function () { return Promise.all([t.e('chunk-628f9bec'), t.e('chunk-d724f656'), t.e('chunk-c2658924'), t.e('chunk-a133eb96')]).then(t.bind(null, '358e')) }, meta: { requiresAuth: !0 }, beforeEnter: function (e, n, t) { console.log('admin:beforeEnter', { to: e, from: n, state: ne.state, logguedin: ne.state.auth.loggedIn }), ne.state.auth.loggedIn ? t() : t('/auth/login') }, children: [{ path: 'dashboard', name: 'Dashboard', component: function () { return Promise.all([t.e('chunk-628f9bec'), t.e('chunk-c2658924'), t.e('chunk-7462cd63')]).then(t.bind(null, '7ad3')) } }] }]; const re = new O.a({ mode: 'history', base: '/', routes: te }); const oe = re; const ae = t('f309'); const ie = t('fcf4'); r.a.use(ae.a); const ce = new ae.a({ theme: { dark: !1, options: { customProperties: !0 }, themes: { light: { primary: '#3A4972', secondary: '#9E2272' }, dark: { primary: ie.a.grey.base } } } }); r.a.config.productionTip = !1, new r.a({ i18n: P, router: oe, store: ne, vuetify: ce, render: function (e) { return e(m) } }).$mount('#app') } })
// # sourceMappingURL=app.160b15cc.js.map
